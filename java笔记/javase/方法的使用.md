#  方法的使用

#  一，方法的概念及其使用

##  1.1，什么是方法

**方法就是一个代码片段. 类似于 C 语言中的 "函数"。作用如下：**

1. 是能够模块化的组织代码(当代码规模比较复杂的时候).
2. 做到代码被重复使用, 一份代码可以在多个位置使用.
3. 让代码更好理解更简单.
4. 直接调用现有方法开发, 不必重复造轮子.

****



##  1.2，方法的定义

**定义格式：**

![image-20220424170816560](C:\Users\14776\AppData\Roaming\Typora\typora-user-images\image-20220424170816560.png) 

**示例：写函数实现求多少项的阶乘的和**

````
public class TeseDemo220424 {
//    计算某一个数的阶乘
    public static int func(int n){
        int ret = 1;
        for(int i = 1;i <= n;i++){
            ret *= i;
        }
        return ret;
    }
//    计算前多少项阶乘之和
    public static int func1(int k){
        int sum = 0;
        for(int i = 1;i <= k;i++){
            sum += func(i);
        }
        return sum;
    }
    public static void main(String[] args) {
//        写函数来求阶乘之和
        Scanner myscanner = new Scanner(System.in);
        System.out.println("请输入你想要求取前多少项的阶乘的和:");
        int num = myscanner.nextInt();
        int sum = func1(num);
        System.out.println("前 " + num + "项的阶乘和为" + sum);
    }
}
````

注意：

1. 修饰符：现阶段直接使用public static 固定搭配(因为main方法是public static ,所以在里面调用的也只能是静态的方法)。
2. 返回值类型：如果方法有返回值，返回值类型必须要与返回的实体类型一致，如果没有返回值，必须写成void。
3. 方法名字：采用小驼峰命名。
4. 参数列表：如果方法没有参数，()中什么都不写，如果有参数，需指定参数类型，多个参数之间使用逗号隔开。
5. 方法体：方法内部要执行的语句。
6. 在java当中，方法必须写在类当中。
7. 在java当中，方法不能嵌套定义。
8. 在java当中，没有方法声明一说。(声明与定义不区分)

****

##  1.3，方法调用的执行过程

**调用过程：**

**调用方法--->传递参数--->找到方法地址--->执行被调方法的方法体--->被调方法结束返回--->回到主调方法继续往下执行**

**形象图示：**

![image-20220426161317083](C:\Users\14776\AppData\Roaming\Typora\typora-user-images\image-20220426161317083.png) 

**注意：**

**1，定义方法的时候, 不会执行方法的代码. 只有调用的时候才会执行.**
**2，一个方法可以被多次调用.**

****



##  1.4，实参和形参的关系(重要)

对于形参与实参的关系，大家肯定不陌生，那就是形参是实参的一份临时拷贝，也就是说形参的改变不会影响到实参。

具体原因图示：(因为具体涉及到函数栈帧的问题比较复杂，这里就给大家简略的解释下）

![image-20220426163517667](C:\Users\14776\AppData\Roaming\Typora\typora-user-images\image-20220426163517667.png) 

**所以，由图可以知道，传值调用的话，形参与实参的值根本就不是存储在同一个空间，所以而这不会相互干扰，在C语言中，如果你希望形参的改变能够影响到实参，那就必须是传址调用，但是在Java里面没有传址这种说法，解决方法只能是利用引用(具体后面会详细介绍)。**

****



#  二，方法的重载

##  2.1，为什么需要方法重载

````
public class TestDemo220426 {
    public static int addInt(int x,int y){
        return x + y;
    }
    public static double addDouble(double x,double y){
        return x + y;
    }
    public static void main(String[] args) {
        int a = 10;
        int b = 10;
        int ret = addInt(a,b);

        double c = 11.1;
        double d = 12.1;
        double ret1 = addDouble(c,d);
    }
}
````

看这段代码，addint,adddouble这两个方法，目的都是为了求两个数的和，但是你得定义两个不同的函数，函数名不同，但往往有时候取名字又是一件头疼的事，所以既然方法的本质功能都是一样的，只是可能参数不同，那我们能不能都用同一个函数名呢？

答案是肯定的，而这种就叫做方法的重载。

****

##  2.2，方法重载的定义

**在Java中，如果多个方法的名字相同，参数列表不同，则称该几种方法被重载了。也就是一个名字但却有不同的涵义。**

````
public class TestDemo220426 {
    public static int add(int x,int y){
        return x + y;
    }
    public static double add(double x,double y){
        return x + y;
    }
    public static void main(String[] args) {
        int a = 10;
        int b = 10;
        int ret = add(a,b);
        System.out.println(ret);

        double c = 11.1;
        double d = 12.1;
        double ret1 = add(c,d);
        System.out.println(ret1);
    }
}
````

**程序运行截图：**

![image-20220426171431893](C:\Users\14776\AppData\Roaming\Typora\typora-user-images\image-20220426171431893.png) 

**由上面的程序可以看出，都是实现相加的功能，但是定义的是两个不同的函数实现，只是函数名一样，这就是函数重载。编译器会根据你传入的参数的不同去调用相应的函数。**

****

**注意：**

1. **方法名必须相同。**
2. **参数列表必须不同(参数的个数不同、参数的类型不同、类型的次序必须不同)（需要以参数来区分）**
3. **与返回值类型是否相同无关**
4. **不能定义仅仅以返回值区分的两个函数，这样不能构成重载**
5. **编译器在编译代码时，会对实参类型进行推演，根据推演的结果来确定调用哪个方法**

****

##  2.3，方法签名

**方法签名即：经过编译器编译修改过之后方法最终的名字。具体方式：方法全路径名+参数列表+返回值类型，构成方法完整的名字。用来区分重载的函数**

**如何可以查看到我们的方法签名：**

1. 先对工程进行编译生成.class字节码文件
2. 在控制台中进入到要查看的.class所在的目录
3. 输入：javap -v 字节码文件名字即可

****



